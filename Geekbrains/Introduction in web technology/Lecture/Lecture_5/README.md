# JSON и XML - основные форматы передачи данных
---
---
## 1. Переписка с сервером.

SOAP и REST - это два стиля API.

SOAP появился в 1998 году стараниями Microsoft. И продолжал развиваться, пока в 2003 году W3C не утвердила в качестве рекомендации SOAP 1.2, который и сейчас является последним.

В 2018 году большинство общедоступных веб-служб предоставили API-интерфейсы REST и передавали данные в компактном и простом в использовании формате обмена данными JSON.

Однако копоративные пользователе все еще часто выбирают SOAP для своих веб-сервисов.

### Основные различия между SOAP и REST

SOAP(Simple Object Access Protocol) - это стандартизированный протокол, который отправляет сообщения с использованием других протоколов, таких как HTTP и др.

REST(Representational State Transfer) - это не протокол, а архитектурный стиль.

Архитектура REST устанавливает набор рекомендаций, которым необходимо следовать, если вы хотите предоставить веб-службе RESTful, например, существование без сохранения состояния и использования кодов состояния HTTP.

Для SOAP и REST-запросов используется два наиболее популярных формата передачи данных:
- XML - используется в SOAP(всегда) и REST-запросах(реже)
- JSON - используется в REST-запросах

## 2. XML.

XML(eXtensible Markup Language) - расширяемый язык разметки.

Используется для хранения и передачи данных. так что увидеть можно не только в API, но и в коде.

XSD(XML Schema Deinition) - это описание вашего XML. Фактически это ТЗ, написанное на языке машины.

Если мы создаем SOAP-метод, то указываем в схеме:
- какие поля будут в запросе
- какие поля будут в ответе
- какие типы данных у каждого поля
- какие поля обязательны для заполнения, а какие нет
- есть ли у поля значение по умолчанию, и какое оно
- есть ли у поля ограничения по длине
- есть ли у поля другие параметры
- какая у запроса структура по вложенности элементов
- ...

### Well Formed XML

Правила well formed XML:

- есть корневой элемент
- у каждого элемента есть закрывающий тег
- теги регистрозависимы!
- соблюдается правильная вложенность элементов
- атрибуты оформлены в кавычках

## 3.JSON.

JSON(JavaScript Object Notation) - текстовый формат обмена данными, основанный на JavaScript. Но при этом формат независим от JS и может использоваться в любом языке программирования.

В SOAP API возможен только в формат XML, а вот REST API поддерживает как XML, так и JSON.

Разработчики предпочитают JSON - он легче читается человеком и меньше весит.

Объект заключен в фигурные скобки {}.

JSON-объект - это неупорядоченное множество пар - ключ:значение.

Ключ - это название параметра, который мы передаем серверу. Он служит маркером для принимающей запросы системы - смотри здесь, у меня значение такого-то параметра.

### Well Formed JSON

Правила well formed JSON:
- данные написаны в виде пар ключ-значение
- данные разделены запятыми
- объект находится внутри фигурных скобок {}
- массив - внутри квадратных []